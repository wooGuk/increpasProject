<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="test">

 	<!-- 로그인 -->
	<select id="login" parameterType="mybatis.vo.MemberVO" resultType="mybatis.vo.MemberVO">
		select * from member where id = #{id} and password = #{password}
	</select>
	
	<!-- 멤버추가 -->
	<insert id="add" parameterType="mybatis.vo.MemberVO">
		insert into member(id,password,name,phone,address,coin)
		values(#{id},#{password},#{name},#{phone},#{address},0)
	</insert>
	
	<!-- 
		id를 검색하여 중복확인 (회원가입 id체크,마이페이지)
		2016/06/13 장준수
	-->
	<select id="check" parameterType="String" resultType="mybatis.vo.MemberVO">
		 select * from member where id = #{id}
	</select>
	
	
	<!-- 
		coin 충전
		2016/06/14 장준수
	 -->
	 <update id="addCoin" parameterType="mybatis.vo.MemberVO">
	 	UPDATE member
		SET coin = coin+#{coin}
		WHERE id = #{id}
	 </update>
	 
	  <!-- ID찾기 -->
	 <select id="idsearch" parameterType="mybatis.vo.MemberVO" resultType="mybatis.vo.MemberVO">
	 	select * from member where name = #{name} and phone = #{phone}
	 </select>
	 <!-- PW찾기 -->
	 <select id="pwdsearch" parameterType="mybatis.vo.MemberVO" resultType="mybatis.vo.MemberVO">
	 	select * from member where id = #{id} and name = #{name}
	 </select>
	 
	  <!-- 전체목록 가져오기 -->
	 <!-- <select id="all" resultType="mybatis.vo.MemberVO">
	 	select * from member
	 </select> --> 
	 
	 
	 <!-- 회원 수정 2016/06/20 장준수 -->
	 <update id="memEdit" parameterType="mybatis.vo.MemberVO">
	 	UPDATE member
	 	SET password = #{password},
	 		phone = #{phone},
	 		address = #{address}
	 	WHERE id = #{id}
	 </update>
</mapper>




